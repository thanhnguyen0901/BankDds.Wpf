<UserControl
    x:Class="BankDds.Wpf.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="650"
    d:DesignWidth="1100"
    Background="#F5F5F5"
    mc:Ignorable="d">
    <UserControl.Resources>
        <!--  ComboBox Style  -->
        <Style x:Key="ModernComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Background" Value="White" />
            <Setter Property="Foreground" Value="#333333" />
            <Setter Property="BorderBrush" Value="#CCCCCC" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="12,10" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border
                                x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter
                                        Grid.Column="0"
                                        Margin="{TemplateBinding Padding}"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Content="{TemplateBinding SelectionBoxItem}"
                                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                        ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                        IsHitTestVisible="False" />
                                    <Path
                                        Grid.Column="1"
                                        Margin="0,0,10,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Data="M 0 0 L 4 4 L 8 0 Z"
                                        Fill="#666666" />
                                    <ToggleButton
                                        Grid.Column="0"
                                        Grid.ColumnSpan="2"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        ClickMode="Press"
                                        Focusable="False"
                                        IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
                                </Grid>
                            </Border>
                            <Popup
                                x:Name="Popup"
                                AllowsTransparency="True"
                                Focusable="False"
                                IsOpen="{TemplateBinding IsDropDownOpen}"
                                Placement="Bottom"
                                PopupAnimation="Slide">
                                <Border
                                    MinWidth="{TemplateBinding ActualWidth}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                    Background="White"
                                    BorderBrush="#CCCCCC"
                                    BorderThickness="1"
                                    CornerRadius="4">
                                    <Border.Effect>
                                        <DropShadowEffect
                                            BlurRadius="10"
                                            Direction="270"
                                            Opacity="0.2"
                                            ShadowDepth="3"
                                            Color="Black" />
                                    </Border.Effect>
                                    <ScrollViewer Margin="4">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#0078D7" />
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#0078D7" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  ComboBoxItem Style  -->
        <Style TargetType="ComboBoxItem">
            <Setter Property="Padding" Value="12,8" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="#333333" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border
                            x:Name="Border"
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#E8F4FD" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#CCE4F7" />
                                <Setter Property="Foreground" Value="#0078D7" />
                                <Setter Property="FontWeight" Value="SemiBold" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Border
            Width="500"
            Height="600"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="White"
            CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="15"
                    Direction="270"
                    Opacity="0.2"
                    ShadowDepth="3"
                    Color="Black" />
            </Border.Effect>
            <Grid Margin="40,30">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!--  Logo/Icon  -->
                <Viewbox
                    Grid.Row="0"
                    Height="80"
                    Margin="0,0,0,10">
                    <TextBlock FontSize="80" Text="&#127974;" />
                </Viewbox>

                <!--  Title  -->
                <TextBlock
                    Grid.Row="0"
                    Margin="0,90,0,0"
                    HorizontalAlignment="Center"
                    FontSize="24"
                    FontWeight="Bold"
                    Foreground="#0078D7"
                    Text="Hệ thống Ngân hàng" />
                <TextBlock
                    Grid.Row="0"
                    Margin="0,120,0,0"
                    HorizontalAlignment="Center"
                    FontSize="14"
                    Foreground="#666666"
                    Text="Đăng nhập vào hệ thống" />

                <!--  Branch Selection  -->
                <StackPanel Grid.Row="2">
                    <TextBlock
                        Margin="0,0,0,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="#333333"
                        Text="Chi nhánh" />
                    <ComboBox
                        x:Name="SelectedBranch"
                        ItemsSource="{Binding Branches}"
                        SelectedItem="{Binding SelectedBranch, Mode=TwoWay}"
                        Style="{StaticResource ModernComboBoxStyle}" />
                </StackPanel>

                <!--  User Name  -->
                <StackPanel Grid.Row="4">
                    <TextBlock
                        Margin="0,0,0,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="#333333"
                        Text="Tên đăng nhập" />
                    <Border
                        Background="White"
                        BorderBrush="#CCCCCC"
                        BorderThickness="1"
                        CornerRadius="4">
                        <TextBox
                            x:Name="UserName"
                            Height="40"
                            Padding="12,10"
                            Background="Transparent"
                            BorderThickness="0"
                            FontSize="14" />
                    </Border>
                </StackPanel>

                <!--  Password  -->
                <StackPanel Grid.Row="6">
                    <TextBlock
                        Margin="0,0,0,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="#333333"
                        Text="Mật khẩu" />
                    <Border
                        Background="White"
                        BorderBrush="#CCCCCC"
                        BorderThickness="1"
                        CornerRadius="4">
                        <PasswordBox
                            x:Name="PasswordBox"
                            Height="40"
                            Padding="12,10"
                            Background="Transparent"
                            BorderThickness="0"
                            FontSize="14"
                            PasswordChanged="PasswordBox_OnPasswordChanged" />
                    </Border>
                </StackPanel>

                <!--  Error Message  -->
                <TextBlock
                    x:Name="ErrorMessage"
                    Grid.Row="8"
                    MinHeight="25"
                    Padding="10,5"
                    FontSize="12"
                    FontWeight="SemiBold"
                    Foreground="#D32F2F"
                    TextWrapping="Wrap" />

                <!--  Login Button  -->
                <Button
                    x:Name="Login"
                    Grid.Row="10"
                    Height="45"
                    Background="#0078D7"
                    BorderThickness="0"
                    Content="Đăng nhập"
                    Cursor="Hand"
                    FontSize="15"
                    FontWeight="SemiBold"
                    Foreground="White">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#0078D7" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            Background="{TemplateBinding Background}"
                                            BorderThickness="0"
                                            CornerRadius="4">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#005A9E" />
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#004275" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>
        </Border>
    </Grid>
</UserControl>
